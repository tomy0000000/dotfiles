name: Test Ubuntu features

on:
  push:
    branches:
      - main
    paths-ignore:
      - 'docs/**'
  pull_request:
  schedule:
    - cron: '0 2 * * *'

jobs:
  Ubuntu:
    runs-on: ${{ matrix.os }}
    strategy:
      fail-fast: false
      matrix:
        os: [ubuntu-22.04, ubuntu-24.04, ubuntu-latest]
        features:
          [
            "ansible",
            "clean",
            "cli-network",
            "core",
            "git",
            "javascript",
            "micro",
            "nano",
            "python",
            "stow",
            "ubuntu-dropbox",
            "ubuntu-essential",
            "ubuntu-locale-zhtw",
            "ubuntu-ssh",
            "ubuntu-tz-taipei",
            "zsh",
          ]
    steps:
      - name: ðŸ›’ Checkout
        uses: actions/checkout@v4

      - name: ðŸ§ª Test "${{ matrix.features }}"
        run: make ${{ matrix.features }}
